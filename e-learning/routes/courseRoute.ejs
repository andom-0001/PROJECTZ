const express = require('express');
const router = express.Router();

let course = [];
let id = 1;

router.get('/',(req,res)=>{
    res.render('course',{
        title: 'course'
    });
});

//get all courses
router.get('/api',( req,res )=>{
    res.json(course);
});

//add a course
router.post(
    const { name } = req.body;
    const newCourse = {
        id: id++,
        name
    };
    courses.push(newCourse);
    res.json(newCourse);
);

//to update a course
router.put('/api/:id',(req,res)=>{
    const updateCourse = parseInt(req.params.id);

    let course = course.filter(key => key.id !== updateCourse);
    const { name } = req.body;

    if(courses){
        course.name = name;
    }
    res.json(course);
});